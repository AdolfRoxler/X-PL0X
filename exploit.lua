--GUI = loadstring(game:HttpGet'https://raw.githubusercontent.com/AdolfRoxler/X-PL0X/main/libraries/drawinglib.lua')()
Phys = loadstring(game:HttpGet'https://raw.githubusercontent.com/AdolfRoxler/X-PL0X/main/libraries/physicsMANIPULATOR.lua')()
Gaylib = loadstring(game:HttpGet'https://raw.githubusercontent.com/AdolfRoxler/X-PL0X/main/libraries/Kavo.lua')()
math2 = loadstring(game:HttpGet'https://raw.githubusercontent.com/AdolfRoxler/X-PL0X/main/libraries/arbitrarymath.lua')()
User = game:GetService('Players').LocalPlayer
--- Thank you xHeptc for making the super duper sexy nigger gui lib
game:GetService("RunService").RenderStepped:connect(function() -- Constant updater to ease up resource use
    Camera = workspace.CurrentCamera
    Mouse = User:GetMouse()
    Resolution = Vector2.new(Mouse.ViewSizeX,Mouse.ViewSizeY)
end)
--- A little bit of insight, this script is the rebirth of Skidmund, a script I never released, aspiring the same objective, but in a much more efficient way.
---
--[[ Reference
local Tab= Library.CreateLib("TITLE", "DarkTheme")

local Section = Tab:NewSection("Section Name")

Section:UpdateSection("Section New Title")

Section:NewLabel("LabelText")

label:UpdateLabel("New Text")

Section:NewButton("ButtonText", "ButtonInfo", function()
    print("Clicked")
end)

button:UpdateButton("New Text")

Section:NewToggle("ToggleText", "ToggleInfo", function(state)
    if state then
        print("Toggle On")
    else
        print("Toggle Off")
    end
end)

Section:NewSlider("SliderText", "SliderInfo", 500, 0, function(s) -- 500 (MaxValue) | 0 (MinValue)
    game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = s
end)

Section:NewTextBox("TextboxText", "TextboxInfo", function(txt)
	print(txt)
end)

Section:NewKeybind("KeybindText", "KeybindInfo", Enum.KeyCode.F, function()
	print("You just clicked the bind")
end)


Library:ToggleUI()

Section:NewDropdown("DropdownText", "DropdownInf", {"Option 1", "Option 2", "Option 3"}, function(currentOption)
    print(currentOption)
end)

]]
---
--- Global Variables
ESP = false
---
local GUI = Gaylib.CreateLib("X-PL0X", "DarkTheme")
local Visuals = GUI:NewTab("Visuals")
local ESPS = Visuals:NewSection("ESP")
ESPS:NewToggle("ESP", "Toggles ESP duh", function(state)
    if state then
        ESP = true
    else
        ESP = false
    end
end)
--[[
Will be added later
local Spoofing = GUI:NewTab("Spoofing")
local Misc = GUI:NewTab("Miscellaneous")
local Prot = GUI:NewTab("Protection") 
local Util = GUI:NewTab("Utilities")
local Gim = GUI:NewTab("Gimmicks")
]]
local Settings = GUI:NewTab("Settings")
---
local Stats = GUI:NewTab("Stats")
local ClientStats = Stats:NewSection("Client")
local ServerStats = Stats:NewSection("Server")

local FPSL = ClientStats:NewLabel("FPS")
local PINGL = ClientStats:NewLabel("Ping")
---
local Credits = GUI:NewTab("Credits")
local Thx = Credits:NewSection("Thanks to:")
local Thxwho = Thx:NewLabel("Github - home of this shit")
local Thxwho2 = Thx:NewLabel("xHeptc - fuck you nigga why can't I fuck this UI???")
---
--[[  So yeah this is ESP template and stuff

[Player] = 
{
    Plr,
    Box,
    Healthbar = {},
    Arrow = {},
}

]]
--- Custom Functions and shit
PLAYERLIST = {}
lowvalue = 2^31-1
StatsService = game:GetService("Stats")
DELTA = 0
Ping = StatsService:WaitForChild("Network"):WaitForChild("ServerStatsItem"):WaitForChild("Data Ping")
function refreshplayers()
game:GetService("RunService").RenderStepped:Wait()
for _,L in pairs(PLAYERLIST) do warn(_,L) L.Box:Remove() L.Arrow[1]:Remove() L.Arrow[2]:Remove() PLAYERLIST[_]=nil end
local PlayerList = game:GetService("Players"):GetPlayers()
for _,L in pairs(PlayerList) do 
if L and L~=User then
PLAYERLIST[L]={L,Box=Drawing.new("Quad"),Arrow={Drawing.new("Quad"),Drawing.new("Quad")}} 
end
end
end
refreshplayers() 
game:GetService("Players").PlayerAdded:connect(function() refreshplayers()  end)
game:GetService("Players").PlayerRemoving:connect(function() refreshplayers()  end)
--- Rendering section
game:GetService("RunService").RenderStepped:connect(function(D)
DELTA = D
PINGL:UpdateLabel("Ping: "..string.split(Ping:GetValueString()," ")[1].."ms")
for _,N in pairs(PLAYERLIST) do
local Plr = _
local Box = N.Box
local Char = Plr.Character
if Char and Box then
local Pos,Size = Char:GetModelCFrame(),Char:GetExtentsSize()

local UR,V1 = Camera:WorldToViewportPoint(Pos*(Vector3.new(Size.X,Size.Y,0)/2))
local UL,V2 = Camera:WorldToViewportPoint(Pos*(Vector3.new(-Size.X,Size.Y,0)/2))
local DL,V3 = Camera:WorldToViewportPoint(Pos*(Vector3.new(-Size.X,-Size.Y,0)/2))
local DR,V4 = Camera:WorldToViewportPoint(Pos*(Vector3.new(Size.X,-Size.Y,0)/2))

Box.PointA = Vector2.new(UR.X,UR.Y)
Box.PointB = Vector2.new(UL.X,UL.Y)
Box.PointC = Vector2.new(DL.X,DL.Y)
Box.PointD = Vector2.new(DR.X,DR.Y)

Box.Filled = false

Box.Thickness = (0.068*Resolution.Y)/(Camera.CFrame.p-Pos.p).Magnitude
Box.Color = Color3.new(1,1,1)
Box.ZIndex = lowvalue

if V1 or V2 or V3 or V4 then Box.Visible = ESP else Box.Visible = false end
else Box.Visible = false end
end
end)
---
while wait(.5) do
    FPSL:UpdateLabel("FPS: "..math2.round(1/DELTA,2)) --ez fps and rounding
end

--GUI:MakeBox(500,500,200,100,true,0,Color3.new(255,255,255))
--[[local throwawaytable = {true,false} -- Gay ass table that i don't need
while true do
	local poop = GUI:MakeBox(math.random(0,Resolution.X),math.random(0,Resolution.Y),math.random(0,Resolution.X),math.random(0,Resolution.Y),throwawaytable[math.random(1,#throwawaytable)],math.random(0,10),Color3.fromRGB(math.random(0,255),math.random(0,255),math.random(0,255))) -- generate random box with random properties
    wait(1)
    table.remove(GUIFRAMES,table.find(GUIFRAMES,poop))
	poop:Remove()
end]] --- Refraining from using drawing api for objects and shit. LITERALLY TOO MUCH TROUBLE FOR ITS WORTH.